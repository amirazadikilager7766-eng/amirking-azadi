import { PlayerStats } from "../types";

export const generateStaticReport = (stats: PlayerStats): string => {
  const { name, playerClass, quizScore, title } = stats;
  
  const isHighLevel = quizScore > 2000;
  const isMidLevel = quizScore > 1000 && quizScore <= 2000;

  let roleAdvice = "";
  let roadmapSteps = [];

  // 1. CLASS-BASED STRATEGY
  switch (playerClass) {
    case 'archer': // Content/Marketing
      roleAdvice = "Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† **Ú©Ù…Ø§Ù†Ø¯Ø§Ø± Ù…Ø­ØªÙˆØ§**ØŒ Ù‚Ø¯Ø±Øª Ø§ØµÙ„ÛŒ ØªÙˆ Ø¯Ø± Ø¬Ø°Ø¨ Ù†Ú¯Ø§Ù‡â€ŒÙ‡Ø§Ø³Øª. Ø§Ù…Ø§ ØªÛŒØ±Ù‡Ø§ÛŒ ØªÙˆ Ø¨Ø§ÛŒØ¯ Ø¯Ù‚ÛŒÙ‚â€ŒØªØ± Ø¨Ù‡ Ù‡Ø¯Ù (Ù…Ø®Ø§Ø·Ø¨ Ù‡Ø¯Ù) Ø¨Ø®ÙˆØ±Ø¯.";
      roadmapSteps = [
        "**ØªÙˆÙ„ÛŒØ¯ Ù…Ø­ØªÙˆØ§ÛŒ ÙˆÛŒØ±ÙˆØ³ÛŒ:** ØªÙ…Ø±Ú©Ø²Øª Ø±Ø§ Ø§Ø² Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø³Ù„Ø§ÛŒØ¯ÛŒ Ø¨Ù‡ ReelsÙ‡Ø§ÛŒ Û±Û° Ø«Ø§Ù†ÛŒÙ‡â€ŒØ§ÛŒ Ø¨Ø§ Ù‡ÙˆÚ© (Ù‚Ù„Ø§Ø¨) Ù‚ÙˆÛŒ Ø¯Ø± Û³ Ø«Ø§Ù†ÛŒÙ‡ Ø§ÙˆÙ„ Ø¨Ø¨Ø±.",
        "**Ù‚ÛŒÙ ÙØ±ÙˆØ´ Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…ÛŒ:** Ù…Ø®Ø§Ø·Ø¨ Ø±Ø§ Ø¯Ø± Ø¯Ø§ÛŒØ±Ú©Øª Ø±Ù‡Ø§ Ù†Ú©Ù†. Ø§Ø² Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ† (ManyChat) Ø¨Ø±Ø§ÛŒ ØªØ¨Ø¯ÛŒÙ„ Ú©Ø§Ù…Ù†Øª Ø¨Ù‡ Ù„ÛŒÙ†Ú© Ø®Ø±ÛŒØ¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†.",
        "**Ø¯Ø§Ø³ØªØ§Ù†â€ŒØ³Ø±Ø§ÛŒÛŒ (Storytelling):** Ù…Ø­ØµÙˆÙ„Øª Ø±Ø§ Ù†ÙØ±ÙˆØ´ØŒ Ø¯Ø§Ø³ØªØ§Ù† ØªØºÛŒÛŒØ± Ø²Ù†Ø¯Ú¯ÛŒ Ù…Ø´ØªØ±ÛŒ Ø±Ø§ ØªØ¹Ø±ÛŒÙ Ú©Ù†."
      ];
      break;

    case 'guardian': // Sales/Retention
      roleAdvice = "Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† **Ù…Ø­Ø§ÙØ¸ ÙØ±ÙˆØ´**ØŒ ØªÙˆ Ù†Ú¯Ù‡Ø¨Ø§Ù† Ø®Ø²Ø§Ù†Ù‡ Ù‡Ø³ØªÛŒ. Ù‡Ù†Ø± ØªÙˆ ØªØ¨Ø¯ÛŒÙ„ 'Ù†Ù‡' Ù…Ø´ØªØ±ÛŒ Ø¨Ù‡ 'Ø¨Ù„Ù‡' Ø§Ø³Øª.";
      roadmapSteps = [
        "**Ù¾ÛŒÚ¯ÛŒØ±ÛŒ (Follow-up) Ù‡ÙˆØ´Ù…Ù†Ø¯:** Û¶Û°Ùª ÙØ±ÙˆØ´â€ŒÙ‡Ø§ Ø¯Ø± ØªÙ…Ø§Ø³ Ù¾Ù†Ø¬Ù… Ø§ØªÙØ§Ù‚ Ù…ÛŒâ€ŒØ§ÙØªØ¯. Ø³ÛŒØ³ØªÙ… CRM Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± ØªÙ†Ø¸ÛŒÙ… Ú©Ù†.",
        "**Ø§Ø±Ø²Ø´ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø±Ø¯ Ù†Ø´Ø¯Ù†ÛŒ:** Ø¨Ù‡ Ø¬Ø§ÛŒ ØªØ®ÙÛŒÙØŒ Ù¾Ø§Ø¯Ø§Ø´ (Bonus) Ø¨Ø¯Ù‡. Ù…Ø´ØªØ±ÛŒ Ø¨Ø§ÛŒØ¯ Ø§Ø­Ø³Ø§Ø³ Ú©Ù†Ø¯ Ø¨Ø§ Ù†Ø®Ø±ÛŒØ¯Ù† Ø§Ø² ØªÙˆ Ø¶Ø±Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.",
        "**Ø§Ø³Ú©Ø±ÛŒÙ¾Øª ÙØ±ÙˆØ´ ØªÙ„ÙÙ†ÛŒ:** Ù…Ú©Ø§Ù„Ù…Ø§ØªØª Ø±Ø§ Ø¨Ø¯Ø§Ù‡Ù‡ Ù†Ú¯Ùˆ. ÛŒÚ© Ø³Ù†Ø§Ø±ÛŒÙˆÛŒ ÙØ±ÙˆØ´ Ù‡ÛŒÙ¾Ù†ÙˆØªÛŒØ²Ù…ÛŒ Ø¨Ù†ÙˆÛŒØ³."
      ];
      break;

    case 'mage': // Strategy/System
      roleAdvice = "Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† **Ø­Ú©ÛŒÙ… Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ**ØŒ ØªÙˆ Ù…ØºØ² Ù…ØªÙÚ©Ø± Ø³ÛŒØ³ØªÙ…ÛŒ. Ø¨Ø§ÛŒØ¯ Ø®ÙˆØ¯Øª Ø±Ø§ Ø§Ø² Ø¹Ù…Ù„ÛŒØ§Øª Ø±ÙˆØ²Ù…Ø±Ù‡ Ø­Ø°Ù Ú©Ù†ÛŒ.";
      roadmapSteps = [
        "**Ø³ÛŒØ³ØªÙ…â€ŒØ³Ø§Ø²ÛŒ:** ØªÙ…Ø§Ù… Ú©Ø§Ø±Ù‡Ø§ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø±Ø§ Ù„ÛŒØ³Øª Ú©Ù† Ùˆ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ú©Ø¯Ø§Ù… ÛŒÚ© Ú†Ú©â€ŒÙ„ÛŒØ³Øª ÛŒØ§ ÙˆÛŒØ¯ÛŒÙˆ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¨Ø³Ø§Ø² ØªØ§ ØªÙÙˆÛŒØ¶ Ú©Ù†ÛŒ.",
        "**Ø§Ù‡Ø±Ù… Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ:** Ø§Ø² AI Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´ Ùˆ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø±ÙØªØ§Ø± Ù…Ø´ØªØ±ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ØŒ Ù†Ù‡ ÙÙ‚Ø· ØªÙˆÙ„ÛŒØ¯ Ù…ØªÙ†.",
        "**Ù…Ù‚ÛŒØ§Ø³â€ŒÙ¾Ø°ÛŒØ±ÛŒ (Scaling):** Ù…Ø¯Ù„ Ø¯Ø±Ø¢Ù…Ø¯ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø² 'ÙØ±ÙˆØ´ Ø²Ù…Ø§Ù†' Ø¨Ù‡ 'ÙØ±ÙˆØ´ Ù…Ø­ØµÙˆÙ„/Ù¾Ú©ÛŒØ¬' ØªØºÛŒÛŒØ± Ø¨Ø¯Ù‡."
      ];
      break;
      
    default:
      roleAdvice = "ØªÙˆ ÛŒÚ© Ø¬Ù†Ú¯Ø¬ÙˆÛŒ ØªØ§Ø²Ù‡ Ù†ÙØ³ Ù‡Ø³ØªÛŒ.";
      roadmapSteps = ["Ø´Ø±ÙˆØ¹ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ù…Ù‡Ø§Ø±Øª ÙØ±ÙˆØ´", "Ø§Ù†ØªØ®Ø§Ø¨ ÛŒÚ© Ù†ÛŒØ´ Ù…Ø§Ø±Ú©Øª Ù…Ø´Ø®Øµ", "Ø±Ø§Ù‡ Ø§Ù†Ø¯Ø§Ø²ÛŒ Ø§ÙˆÙ„ÛŒÙ† Ú©Ù…Ù¾ÛŒÙ† ØªØ¨Ù„ÛŒØºØ§ØªÛŒ"];
  }

  // 2. SCORE-BASED ADJUSTMENTS
  let verdict = "";
  if (isHighLevel) {
    verdict = `Ø¹Ù…Ù„Ú©Ø±Ø¯ ØªÙˆ Ø¯Ø± Ø³Ø·Ø­ **${title}** Ø¨ÙˆØ¯. ØªÙˆ Ø¢Ù…Ø§Ø¯Ù‡ ÙØªØ­ Ø¨Ø§Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯ÛŒ.`;
  } else if (isMidLevel) {
    verdict = "Ù¾ØªØ§Ù†Ø³ÛŒÙ„ Ø¨Ø§Ù„Ø§ÛŒÛŒ Ø¯Ø§Ø±ÛŒ Ø§Ù…Ø§ Ù‡Ù†ÙˆØ² Ø¯Ø± Ø¨Ø±Ø®ÛŒ Ø§ØµÙˆÙ„ Ø¨Ù†ÛŒØ§Ø¯ÛŒÙ† Ø­ÙØ±Ù‡â€ŒÙ‡Ø§ÛŒÛŒ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯.";
    roadmapSteps.push("**Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù†Ø±Ø® ØªØ¨Ø¯ÛŒÙ„:** ØªØ±Ø§ÙÛŒÚ© Ø¯Ø§Ø±ÛŒ Ø§Ù…Ø§ ÙØ±ÙˆØ´ Ú©Ù… Ø§Ø³ØªØŸ Ø±ÙˆÛŒ ØµÙØ­Ù‡ Ù…Ø­ØµÙˆÙ„ Ú©Ø§Ø± Ú©Ù†.");
  } else {
    verdict = "Ø´Ø±ÙˆØ¹ Ø®ÙˆØ¨ÛŒ Ø¨ÙˆØ¯ØŒ Ø§Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø¬Ù†Ú¯â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ø¨Ø§Ø²Ø§Ø± Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ¬Ù‡ÛŒØ²Ø§Øª (Ø¯Ø§Ù†Ø´) Ø¨ÛŒØ´ØªØ±ÛŒ Ø¯Ø§Ø±ÛŒ.";
    roadmapSteps = ["**Ù…Ø·Ø§Ù„Ø¹Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡:** Ø±ÙˆØ²ÛŒ Û³Û° Ø¯Ù‚ÛŒÙ‚Ù‡ Ø±ÙˆÛŒ Ù…Ù‡Ø§Ø±Øª Ø§ØµÙ„ÛŒâ€ŒØ§Øª ÙˆÙ‚Øª Ø¨Ú¯Ø°Ø§Ø±.", ...roadmapSteps.slice(0, 2)];
  }

  // 3. GENERATE MARKDOWN
  return `
# ÙØ±Ù…Ø§Ù†â€ŒÙ†Ø§Ù…Ù‡ Ù¾ÛŒØ±ÙˆØ²ÛŒ ${name}

${roleAdvice}

### ðŸ“Š ØªØ­Ù„ÛŒÙ„ Ø¹Ù…Ù„Ú©Ø±Ø¯:
${verdict}

---

### ðŸ—ºï¸ Ù†Ù‚Ø´Ù‡ Ø±Ø§Ù‡ Ø§Ø®ØªØµØ§ØµÛŒ ØªÙˆ (Û³ Ù‚Ø¯Ù… Ø¨Ø¹Ø¯ÛŒ):
1. ${roadmapSteps[0]}
2. ${roadmapSteps[1]}
3. ${roadmapSteps[2]}

---

### ðŸ”¥ Ø³Ø®Ù† Ù¾Ø§ÛŒØ§Ù†ÛŒ:
*"Ø¯Ø± Ø·ÙˆÙ„Ø§Ù†ÛŒâ€ŒØªØ±ÛŒÙ† Ø´Ø¨ Ø³Ø§Ù„ØŒ ØªÙ†Ù‡Ø§ Ú©Ø³Ø§Ù†ÛŒ Ø·Ù„ÙˆØ¹ Ø®ÙˆØ±Ø´ÛŒØ¯ Ù…ÙˆÙÙ‚ÛŒØª Ø±Ø§ Ù…ÛŒâ€ŒØ¨ÛŒÙ†Ù†Ø¯ Ú©Ù‡ ØªØ§ ØµØ¨Ø­ Ø¨ÛŒØ¯Ø§Ø± Ù…Ø§Ù†Ø¯Ù‡ Ùˆ Ø¬Ù†Ú¯ÛŒØ¯Ù‡ Ø¨Ø§Ø´Ù†Ø¯."*
  `;
};